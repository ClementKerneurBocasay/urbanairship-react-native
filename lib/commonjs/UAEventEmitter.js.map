{"version":3,"sources":["UAEventEmitter.ts"],"names":["UrbanAirshipModule","NativeModules","UrbanAirshipReactModule","UAEventEmitter","NativeEventEmitter","constructor","addListener","eventType","listener","context","Platform","OS","addAndroidListener","removeAllListeners","removeAndroidListeners","listeners","length","removeSubscription","subscription"],"mappings":"AAAA;AAEA;;;;;;;AAEA;;AAEA;AACA;AACA;AACA,MAAMA,kBAAkB,GAAGC,2BAAcC,uBAAzC;AAEA;AACA;AACA;AACA;AACA;;AACO,MAAMC,cAAN,SAA6BC,+BAA7B,CAAgD;AACrDC,EAAAA,WAAW,GAAG;AACZ,UAAML,kBAAN;AACD;;AAEDM,EAAAA,WAAW,CAACC,SAAD,EAAoBC,QAApB,EAAuDC,OAAvD,EAA8F;AACvG,QAAIC,sBAASC,EAAT,KAAgB,SAApB,EAA+B;AAC7BX,MAAAA,kBAAkB,CAACY,kBAAnB,CAAsCL,SAAtC;AACD;;AACD,WAAO,MAAMD,WAAN,CAAkBC,SAAlB,EAA6BC,QAA7B,EAAuCC,OAAvC,CAAP;AACD;;AAEDI,EAAAA,kBAAkB,CAACN,SAAD,EAAoB;AACpC,QAAIG,sBAASC,EAAT,KAAgB,SAApB,EAA+B;AAC3BX,MAAAA,kBAAkB,CAACc,sBAAnB,CAA0C,KAAKC,SAAL,CAAeR,SAAf,EAA0BS,MAApE;AACH;;AAED,UAAMH,kBAAN,CAAyBN,SAAzB;AACD;;AAEDU,EAAAA,kBAAkB,CAACC,YAAD,EAAoC;AACpD,QAAIR,sBAASC,EAAT,KAAgB,SAApB,EAA+B;AAC7BX,MAAAA,kBAAkB,CAACc,sBAAnB,CAA0C,CAA1C;AACD;;AACD,UAAMG,kBAAN,CAAyBC,YAAzB;AACD;;AAzBoD","sourcesContent":["/* Copyright Airship and Contributors */\n\n'use strict';\n\nimport { NativeModules, NativeEventEmitter, EmitterSubscription, Platform } from \"react-native\";\n\n/**\n * @hidden\n */\nconst UrbanAirshipModule = NativeModules.UrbanAirshipReactModule;\n\n/**\n * Custom native event emitter with additional Android behavior\n *\n * @hidden\n */\nexport class UAEventEmitter extends NativeEventEmitter {\n  constructor() {\n    super(UrbanAirshipModule);\n  }\n\n  addListener(eventType: string, listener: (...args: any[]) => any, context?: Object): EmitterSubscription {\n    if (Platform.OS === 'android') {\n      UrbanAirshipModule.addAndroidListener(eventType);\n    }\n    return super.addListener(eventType, listener, context);\n  }\n\n  removeAllListeners(eventType: string) {\n    if (Platform.OS === 'android') {\n        UrbanAirshipModule.removeAndroidListeners(this.listeners(eventType).length);\n    }\n\n    super.removeAllListeners(eventType);\n  }\n\n  removeSubscription(subscription: EmitterSubscription) {\n    if (Platform.OS === 'android') {\n      UrbanAirshipModule.removeAndroidListeners(1);\n    }\n    super.removeSubscription(subscription);\n  }\n}\n"]}